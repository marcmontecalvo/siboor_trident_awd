#####################################################################
##                   Autosync and AutoSpeed
#####################################################################
# https://github.com/MRX8024/motors-sync/blob/main/wiki/EN.md
# cd ~
# git clone https://github.com/MRX8024/motors-sync
# bash ~/motors-sync/install.sh
#
# cd ~
# git clone https://github.com/Anonoei/klipper_auto_speed.git
# cd klipper_auto_speed
# ./install.sh

[motors_sync]
axes: x,y
#    Axes on which calibration will be performed.
accel_chip: adxl345 EBBADXL
#    Accelerometer for vibrations collection: adxl345 / mpu9250 etc.
chip_filter: median
#    Filter type for data from the accelerometer: 'median' works well in
#    most cases, but some particularly noisy printers (fans, etc.) may
#    require a more powerful filter - 'kalman'. On lis2dw filters disabled.
median_size: 3
#    Median filter window size.
#kalman_coeffs: 1.1, 1., 1e-1, 1e-2, .5, 1.
#    Simple coefficients describing the kalman filter.
microsteps: 32
#    Maximum microstepping displacement of the stepper motor rotor.
sync_method: default
#    Methods for synchronizing two axes on interconnected kinematics:
#    'alternately' - the axes calibrated alternately, step by step. (default)
#    'synchronous' - the axes calibrated depending on their magnitude,
#    trying to keep it at the same level.
#    Methods for synchronizing axis/axes on NOT-interconnected kinematics:
#    'sequential' - axes are calibrated sequentially. (default)
steps_model: linear, 20000, 0
#    Mathematical model and its coefficients representing the dependence
#    of stepper motor microstep displacement on the measured magnitude.
max_step_size: 6
#    The maximum number of microsteps that the motor can take move at time,
#    to achieve the planned magnitude.
axes_steps_diff: 8
#    The difference in the positions of the motors in microsteps between
#    the two axes, to update the magnitude of the secondary axis. It is
#    used in the synchronous method, or in the process of axis alignment
#    in the alternately method. The typical value is max_step_size + 1.
retry_tolerance: 500
#    The forced threshold to which a pair of stepper motors on one belt
#    will have to lower the magnitude of the oscillations. It's recommended
#    to configure in order to filter possible inaccuracies. After several
#    iterations of starting synchronization, you will find the edge, to
#    which this parameter should be omitted.
retries: 3
#    The maximum number of repetitions to achieve the forced threshold of
#    oscillations.
head_fan: hotend_fan
#    Toolhead fan, which will be turned off during sync to eliminate noise.

[auto_speed]